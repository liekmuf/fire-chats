{"version":3,"sources":["components/Auth/Auth.module.css","components/Chats/Chatroom/Messages/Message/ChatMessage.module.css","components/Chats/Sidebar/Profile/Profile.module.css","components/Commons/Burger/Burger.module.css","components/Chats/Sidebar/Sidebar.module.css","components/Chats/Chatroom/Сhatroom.module.css","components/Commons/Arrow/Arrow.module.css","components/Commons/SendForm/SendForm.module.css","components/Commons/ScrollDown/ScrollDown.module.css","components/Chats/Sidebar/ChatsList/ChatsList.module.css","components/Chats/Chatroom/ChatroomHeader/ChatroomHeader.module.css","components/Chats/Sidebar/ChatsList/ChatListItem/ChatListItem.module.css","components/Chats/Chatroom/Messages/MessagesContainer.module.css","components/Commons/Search/Search.module.css","components/Chats/Chatroom/Messages/Message/AnotherUserMessage.jsx","components/Chats/Chatroom/Messages/Message/CurrentUserMessage.jsx","components/Chats/Chatroom/Messages/MessagesContainer.jsx","components/Commons/Arrow/Arrow.jsx","components/Chats/Chatroom/ChatroomHeader/ChatroomHeader.jsx","images/sendicon.svg","components/Commons/SendForm/SendForm.jsx","components/Commons/ScrollDown/ScrollDown.jsx","firebase/auth.js","context/DeviceContext.js","firebase/messages.js","components/Chats/Chatroom/Chatroom.jsx","components/Commons/Search/Search.jsx","components/Chats/Sidebar/ChatsList/ChatListItem/ChatsListItem.jsx","components/Commons/Burger/Burger.jsx","components/Chats/Sidebar/ChatsList/ChatsList.jsx","hooks/useValidation.js","hooks/useInput.js","components/Chats/Sidebar/Profile/Profile.jsx","components/Chats/Sidebar/Sidebar.jsx","components/Chats/Chats.jsx","components/Auth/CreateAccount.jsx","components/Auth/SignIn.jsx","components/Auth/Auth.jsx","App.js","index.js"],"names":["module","exports","ChatMessage","text","photoUrl","userName","createdAt","className","styles","message","recieved","avatar","src","alt","wrapper","username","info","time","UserMessage","timeStampToDate","timestamp","Date","seconds","getTime","date","hours","getHours","minutes","getMinutes","slice","isNaN","MessageContainer","messages","uid","container","map","msg","id","photoURL","isSend","React","memo","Arrow","props","arrow","arrowhead","line","Header","chatName","showSidebar","isMobile","header","onClick","header__logo","SendForm","send","useState","formValue","setFormValue","sendHandle","e","preventDefault","length","onSubmit","form","input","value","placeholder","onChange","target","sendIcon","ico","ScrollDown","scroll","isDown","setIsDown","scrollClassName","down","hiden","onScroll","scrolHeight","documentElement","scrollHeight","scrollTop","window","innerHeight","useEffect","document","addEventListener","body","removeEventListener","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","login","email","password","a","signInWithEmailAndPassword","register","createUserWithEmailAndPassword","then","updateProfile","currentUser","displayName","signWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signOut","getCurrentUserInfo","user","DeviceContext","createContext","firestore","useData","path","orderBy","query","collection","useCollectionData","idField","ChatRoom","currentChat","isSidebarHiden","useContext","bottomRef","useRef","scrollDown","behavior","current","scrollIntoView","chatroom","ChatroomHeader","name","ref","chatId","add","FieldValue","serverTimestamp","sendMessage","selectchat","ChatsListSearch","search","timerId","setTimerId","searchValue","setSearchValue","type","clearTimeout","setTimeout","ChatListItem","isCurrentChat","setCurrentChat","chat","active","Burger","burger","second","third","ChatsList","onProfile","hideSidebar","chats","list","toUpperCase","filter","indexOf","key","useValidation","validations","isEmpty","setEmpty","minLengthError","setMinLengthError","maxLengthError","setMaxLengthError","emailError","setEmailError","inputValid","setInputValid","errorMessage","setErrorMessage","validation","test","useInput","initialValue","setValue","isDirty","setDirty","valid","onBlur","Profile","onChatList","isNewChatMode","setIsNewChatMode","minLength","maxLength","isValidInput","profile","form__wrapper","newchat","createdBy","createNewChat","disabled","signout","Sidebar","isProfile","setIsprofile","sidebar","mobile","Chats","setSidebarHiden","style","display","CreateAccount","signIn","confirmedPassword","isPasswordsMismatch","inputsValid","catch","error","title","card","autoComplete","caption","link","SignIn","createAccount","Auth","isSignIn","setIsSignIn","App","useAuthState","innerWidth","width","setWidth","onWindowSizeChange","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5560eed7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"Auth_auth__1Eyzu\",\"title\":\"Auth_title__3IYG7\",\"card\":\"Auth_card__8PbP7\",\"form\":\"Auth_form__YyYoq\",\"input\":\"Auth_input__2ysYl\",\"caption\":\"Auth_caption__5u4xm\",\"link\":\"Auth_link__1xODJ\",\"error\":\"Auth_error__v8JgQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"ChatMessage_message__2rAj-\",\"avatar\":\"ChatMessage_avatar__2eKE-\",\"wrapper\":\"ChatMessage_wrapper__1zNCa\",\"info\":\"ChatMessage_info__3eBV0\",\"text\":\"ChatMessage_text__yRdl0\",\"time\":\"ChatMessage_time__35Mhk\",\"username\":\"ChatMessage_username__32eA0\",\"recieved\":\"ChatMessage_recieved__3253a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__7qHEO\",\"container\":\"Profile_container__pxATV\",\"form__wrapper\":\"Profile_form__wrapper__37bwB\",\"wrapper\":\"Profile_wrapper__1iYV8\",\"avatar\":\"Profile_avatar__1Lkid\",\"name\":\"Profile_name__37ox4\",\"email\":\"Profile_email__3WHI6\",\"signout\":\"Profile_signout__2HT7w\",\"newchat\":\"Profile_newchat__1FkVV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger\":\"Burger_burger__1GVy9\",\"line\":\"Burger_line__1euoh\",\"second\":\"Burger_second__3r08P\",\"third\":\"Burger_third__2LXET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2sRcu\",\"hiden\":\"Sidebar_hiden__3ZNIE\",\"mobile\":\"Sidebar_mobile__KyWRd\",\"wrapper\":\"Sidebar_wrapper__1YqYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatroom\":\"Сhatroom_chatroom__7aLdj\",\"hiden\":\"Сhatroom_hiden__3RIye\",\"selectchat\":\"Сhatroom_selectchat__1Ecfd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrow\":\"Arrow_arrow__1Ewgq\",\"arrowhead\":\"Arrow_arrowhead__2hm6-\",\"line\":\"Arrow_line__24Ah2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SendForm_form__2ByJy\",\"input\":\"SendForm_input__3H-uF\",\"ico\":\"SendForm_ico__1Hk9B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"down\":\"ScrollDown_down__3cI5v\",\"arrow\":\"ScrollDown_arrow__2n93j\",\"hiden\":\"ScrollDown_hiden__2pujp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChatsList_container__3CgYI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ChatroomHeader_header__3ZVbl\",\"header__logo\":\"ChatroomHeader_header__logo__30AuT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"ChatListItem_chat__1wofH\",\"active\":\"ChatListItem_active__1ciE1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MessagesContainer_container__RSGkw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Search_input__2bZyK\"};","import styles from \"./ChatMessage.module.css\"\n\nconst ChatMessage = ({ text, photoUrl, userName, createdAt }) => {\n    return <div className={`${styles.message} ${styles.recieved}`}>\n        <img className={styles.avatar} src={photoUrl} alt=\"\"/>\n        <span className={styles.wrapper}>\n            <div className={styles.username}>{userName}</div>\n            <div className={styles.info}>\n                <span className={styles.text} >{text}</span>\n                <div className={styles.time}>{createdAt}</div>\n            </div>\n        </span></div>\n}\nexport default ChatMessage","import styles from \"./ChatMessage.module.css\"\n\nconst UserMessage = ({ text, createdAt }) => {\n    return <div className={styles.message}>\n        <span className={styles.wrapper}>\n            <div className={styles.info}>\n                <span className={styles.text} >{text}</span>\n                <div className={styles.time}>{createdAt}</div>\n            </div>\n        </span></div>\n}\nexport default UserMessage","import ChatMessage from \"./Message/AnotherUserMessage\"\nimport UserMessage from \"./Message/CurrentUserMessage\"\nimport styles from \"./MessagesContainer.module.css\"\nimport React from \"react\"\n\nconst timeStampToDate = timestamp => new Date(timestamp?.seconds * 1000)\n\nconst getTime = date => {\n    const hours = date.getHours()\n    const minutes = `0${date.getMinutes()}`.slice(-2)\n    return isNaN(date) ? '' : `${hours}:${minutes}`\n}\n\nconst MessageContainer = ({ messages, uid }) => {\n    return <div className={styles.container}>\n        {messages && messages.map(msg => {\n            if (uid === msg.uid) return <UserMessage\n                key={msg.id}\n                text={msg.text}\n                createdAt={getTime(timeStampToDate(msg.createdAt))} />\n            return <ChatMessage\n                userName={msg.userName}\n                photoUrl={msg.photoURL}\n                isSend={uid === msg.uid}\n                key={msg.id}\n                text={msg.text}\n                createdAt={getTime(timeStampToDate(msg.createdAt))} />\n        })}\n    </div>\n}\nexport default React.memo(MessageContainer)","import styles from \"./Arrow.module.css\"\n\nconst Arrow  =(props)=>{\n    return <div className={styles.arrow} {...props}>\n        <div className={styles.arrowhead}></div>\n        <div className={styles.line}></div>\n\n    </div>\n}\nexport default Arrow","import Arrow from \"../../../Commons/Arrow/Arrow\"\nimport styles from \"./ChatroomHeader.module.css\"\n\nconst Header = ({ chatName, showSidebar, isMobile }) => {\n\n    return <header className={styles.header}>\n        {isMobile && <Arrow onClick={showSidebar} />}\n        <h1 className={styles.header__logo}>\n            {chatName}\n        </h1>\n\n    </header>\n}\nexport default Header","export default __webpack_public_path__ + \"static/media/sendicon.12607619.svg\";","import sendIcon from '../../../images/sendicon.svg'\nimport { useState } from 'react'\nimport styles from \"./SendForm.module.css\"\n\nconst SendForm = ({ send }) => {\n    const [formValue, setFormValue] = useState('')\n    const sendHandle = e => {\n        e.preventDefault()\n\n        if (formValue.length > 0) {\n            send(formValue)\n            setFormValue('')\n        }\n    }\n    return <form onSubmit={sendHandle} className={styles.form}>\n        <input className={styles.input}\n            value={formValue}\n            placeholder=\"Write a message...\"\n            onChange={e => setFormValue(e.target.value)} />\n        <img src={sendIcon}\n            className={styles.ico}\n            onClick={sendHandle}\n            alt=\"\" />\n    </form>\n}\nexport default SendForm","import { useEffect, useState } from 'react'\nimport styles from \"./ScrollDown.module.css\"\n\nconst ScrollDown = ({ scroll }) => {\n    const [isDown, setIsDown] = useState(true)\n    const scrollClassName = `${styles.down} ${isDown ? styles.hiden : ''}`\n\n    const onScroll = e => {\n        const scrolHeight = e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight)\n        if (scrolHeight < 15 || (window.innerHeight - e.target.documentElement.scrollHeight > 50)) setIsDown(true)\n        else if (scrolHeight > 30) setIsDown(false)\n    }\n\n    useEffect(() => {\n        document.addEventListener('scroll', onScroll)\n        return () => document.body.removeEventListener('scroll', onScroll)\n    }, [])\n\n    return <div\n        onClick={scroll}\n        className={scrollClassName}>\n        <div className={styles.arrow}></div>\n    </div>\n}\nexport default ScrollDown","import firebase from \"firebase/compat/app\";\nimport { createUserWithEmailAndPassword, updateProfile, signInWithEmailAndPassword } from 'firebase/auth';\n\nconst defaultPhotoUrl = \"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\"\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDmBs0cz6WmjRPDki01xlR3EpgypxHmjkU\",\n    authDomain: \"danylo-chat.firebaseapp.com\",\n    projectId: \"danylo-chat\",\n    storageBucket: \"danylo-chat.appspot.com\",\n    messagingSenderId: \"608034901555\",\n    appId: \"1:608034901555:web:467a24e789b220b37edd46\"\n}\nfirebase.initializeApp(firebaseConfig)\n\nconst auth = firebase.auth()\nexport const login = async(email, password) => {\n    await signInWithEmailAndPassword(auth, email, password)\n}\n\nexport const register = async(email, password, username) => {\n    await createUserWithEmailAndPassword(auth, email, password)\n        .then(() => {\n            updateProfile(auth.currentUser, {\n                displayName: username,\n                photoURL: defaultPhotoUrl,\n            })\n        })\n}\n\nexport const signWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider()\n    auth.signInWithPopup(provider)\n}\n\nexport const signOut = () => {\n    auth.signOut()\n}\n\nexport const getCurrentUser = () => {\n    return auth.currentUser\n}\n\nexport const getCurrentUserInfo = () => {\n    const user = auth.currentUser\n    return {\n        uid: user.uid,\n        photoURL: user.photoURL,\n        email: user.email,\n        displayName: user.displayName\n    }\n}","import React from \"react\";\nexport const DeviceContext = React.createContext();","import firebase from \"firebase/compat/app\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport { getCurrentUserInfo } from \"./auth\";\n\nconst firestore = firebase.firestore()\n\nexport const useData = (path, orderBy) => {\n    const ref = firestore.collection(path)\n    const query = ref.orderBy(orderBy)\n    const [collection] = useCollectionData(query, { idField: 'id' });\n    return collection\n}\n\nexport const createNewChat = (chatName) => {\n    const chatsRef = firestore.collection('chats')\n    chatsRef.add({\n        name: chatName,\n        createdBy: getCurrentUserInfo().uid\n    })\n\n}\n\nexport const sendMessage = (text, chatId) => {\n    const { displayName, photoURL, uid } = getCurrentUserInfo()\n    const currentChatRef = firestore.collection(`chats/${chatId}/messages`)\n\n    currentChatRef.add({\n        userName: displayName,\n        text,\n        createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n        uid,\n        photoURL: (photoURL || \"\")\n    })\n}","import { useEffect, useRef, useContext } from 'react'\nimport styles from './Сhatroom.module.css'\nimport MessageContainer from './Messages/MessagesContainer'\nimport ChatroomHeader from './ChatroomHeader/ChatroomHeader'\nimport SendForm from '../../Commons/SendForm/SendForm'\nimport ScrollDown from '../../Commons/ScrollDown/ScrollDown'\nimport { getCurrentUserInfo } from '../../../firebase/auth'\nimport { DeviceContext } from '../../../context/DeviceContext'\nimport { sendMessage, useData } from '../../../firebase/messages'\n\nconst ChatRoom = ({ currentChat, showSidebar, isSidebarHiden }) => {\n    const isMobile = useContext(DeviceContext)\n    const bottomRef = useRef()\n\n    const messages = useData(`chats/${currentChat.id}/messages`, 'createdAt')\n    const uid = getCurrentUserInfo().uid\n\n    const scrollDown = (behavior) => {\n        return () => bottomRef.current.scrollIntoView({ behavior })\n    }\n\n    useEffect(() => scrollDown(\"auto\")(), [messages])\n\n    const onSendClick = (text) => {\n        sendMessage(text, currentChat.id)\n    }\n    const className = `${styles.chatroom} ${isMobile && !isSidebarHiden ? styles.hiden : \"\"}`\n\n    return (\n        <div className={className}>\n            <ChatroomHeader chatName={currentChat.name}\n                showSidebar={showSidebar}\n                isMobile={isMobile} />\n            {currentChat.id ?\n                <>\n                    <MessageContainer\n                        messages={messages}\n                        uid={uid}\n                    />\n                    <ScrollDown scroll={scrollDown(\"smooth\")} />\n                    <div ref={bottomRef}></div>\n                    <div></div>\n                    <SendForm send={onSendClick} />\n                </> : <div className={styles.selectchat}>Select a chat to start messaging</div>}\n            <div ref={bottomRef}></div>\n\n        </div>)\n}\n\nexport default ChatRoom","import { useState } from \"react\"\nimport styles from \"./Search.module.css\"\nconst ChatsListSearch = ({ search }) => {\n    const [timerId, setTimerId] = useState(null)\n\n    const [searchValue, setSearchValue] = useState(\"\")\n    const onSearchChange = e => {\n        e.preventDefault()\n        if (timerId) {\n            clearTimeout(timerId);\n        }\n        setSearchValue(e.target.value)\n        setTimerId(setTimeout(()=>search(e.target.value), 500))\n    }\n\n\n    return <form >\n        <input type=\"text\"\n            placeholder=\"search\"\n            className={styles.input}\n            value={searchValue}\n            onChange={onSearchChange}\n        />\n    </form>\n}\nexport default ChatsListSearch","import styles from \"./ChatListItem.module.css\"\n\nconst ChatListItem = ({ name, isCurrentChat, setCurrentChat }) => {\n    const className = `${styles.chat} ${isCurrentChat ? styles.active : \"\"}`\n\n    const onClick = () => {\n        isCurrentChat || setCurrentChat()\n    }\n    return <div className={className}\n        onClick={onClick}>\n        <div>{name}</div>\n    </div>\n}\nexport default ChatListItem","import styles from \"./Burger.module.css\"\n\nconst Burger = (props) =>{\n    return <div className={styles.burger} {...props}>\n        <div className={styles.line}></div>\n        <div className={`${styles.line} ${styles.second}`}></div>\n        <div className={`${styles.line} ${styles.third}`}></div>\n    </div>\n}\nexport default Burger","import ChatsListSearch from \"../../../Commons/Search/Search\";\nimport ChatListItem from \"./ChatListItem/ChatsListItem\";\nimport { useState } from \"react\";\nimport styles from \"./ChatsList.module.css\"\nimport Burger from \"../../../Commons/Burger/Burger\";\nimport { useData } from \"../../../../firebase/messages\";\n\nconst ChatsList = ({ currentChat, setCurrentChat, onProfile, hideSidebar }) => {\n    const chats = useData('chats', 'name')\n    const [searchValue, setSearchValue] = useState(\"\")\n    const search = text => {\n        setSearchValue(text.toUpperCase())\n    }\n\n    const onChatSelectedCreator = (name, id) => {\n        return () => {\n            hideSidebar()\n            setCurrentChat({ name, id })\n        }\n    }\n    return <div className={styles.list}>\n        <div className={styles.wrapper}>\n\n            <div className={styles.container}>\n                <Burger onClick={onProfile} />\n                <ChatsListSearch search={search} />\n            </div>\n\n            {chats && chats.filter(chat => ~chat.name.toUpperCase().indexOf(searchValue))\n                .map(chat => <ChatListItem\n                    isCurrentChat={currentChat.id === chat.id}\n                    setCurrentChat={onChatSelectedCreator(chat.name, chat.id)}\n                    key={chat.key}\n                    name={chat.name} />)}\n        </div>\n\n    </div>\n}\n\nexport default ChatsList","import { useState, useEffect } from \"react\"\n\nexport const useValidation = (value, validations) => {\n\n    const [isEmpty, setEmpty] = useState(true)\n    const [minLengthError, setMinLengthError] = useState(false)\n    const [maxLengthError, setMaxLengthError] = useState(false)\n    const [emailError, setEmailError] = useState(false)\n\n    const [inputValid, setInputValid] = useState(false)\n    const [errorMessage, setErrorMessage] = useState(\"\")\n\n    useEffect(() => {\n        for (const validation in validations) {\n            switch (validation) {\n                case \"isEmpty\":\n                    setEmpty(!value)\n                    break\n                case \"minLength\":\n                    setMinLengthError(value.length < validations[validation])\n                    break\n                case \"maxLength\":\n                    setMaxLengthError(value.length > validations[validation])\n                    break\n                case \"email\":\n                    const re = /\\S+@\\S+\\.\\S+/\n                    setEmailError(!re.test(value))\n                    break\n                default:\n                    break\n            }\n        }\n    }, [value, validations])\n    useEffect(() => {\n        if (isEmpty || minLengthError || maxLengthError || emailError) {\n            minLengthError && setErrorMessage(\"The field is too short\")\n            emailError && setErrorMessage(\"Email is invalid\")\n            isEmpty && setErrorMessage(\"input is empty\")\n            setInputValid(false)\n        } else {\n            setErrorMessage(\"\")\n            setInputValid(true)\n        }\n    }, [isEmpty, minLengthError, maxLengthError, emailError])\n    return {\n        isEmpty,\n        minLengthError,\n        maxLengthError,\n        emailError,\n        errorMessage,\n        inputValid\n    }\n}","import { useState } from \"react\"\nimport { useValidation } from \"./useValidation\"\nexport const useInput = (initialValue = \"\", validations) => {\n    const [value, setValue] = useState(initialValue)\n    const [isDirty, setDirty] = useState(false)\n    const valid = useValidation(value, validations)\n    const onChange = e => {\n        setValue(e.target.value)\n    }\n\n    const onBlur = e => {\n        setDirty(true)\n    }\n    return {\n        value,\n        ...valid,\n        onChange,\n        onBlur,\n        isDirty\n    }\n}","import styles from \"./Profile.module.css\"\nimport { useState } from \"react/cjs/react.development\"\nimport Arrow from \"../../../Commons/Arrow/Arrow\"\nimport { useInput } from \"../../../../hooks/useInput\"\nimport { getCurrentUserInfo, signOut } from \"../../../../firebase/auth\"\nimport { createNewChat } from \"../../../../firebase/messages\"\n\nconst Profile = ({ onChatList }) => {\n    const user = getCurrentUserInfo()\n\n    const minChatNameLength = 3\n    const maxChatNameLength = 20\n\n    const [isNewChatMode, setIsNewChatMode] = useState(false)\n    const chatName = useInput(\"\", {\n        isEmpty: false,\n        minLength: minChatNameLength,\n        maxLength: maxChatNameLength\n    })\n    const isValidInput = chatName.inputValid\n\n    const onSave = e => {\n        e.preventDefault()\n        createNewChat(chatName.value)\n        setIsNewChatMode(false)\n\n        onChatList()\n    }\n\n    const onNewChat = () => {\n        setIsNewChatMode(true)\n    }\n\n    return <div className={styles.profile}>\n        <div>\n            <Arrow onClick={onChatList} />\n            <div className={styles.container}>\n                <img src={user.photoURL} className={styles.avatar} alt=\"\" />\n                <div className={styles.info}>\n                    <div className={styles.name} >{user.displayName}</div>\n                    <div className={styles.email} > {user.email}</div>\n                </div>\n            </div>\n\n            <div className={styles.wrapper}>\n                {isNewChatMode\n                    ? <form className={styles.form__wrapper}>\n                        <input type=\"text\"\n                            placeholder=\"Enter a chat name\"\n                            className=\"input\"\n                            onChange={chatName.onChange}\n                            value={chatName.value}\n                        />\n                        <button className={`button ${styles.newchat}`}\n                            onClick={onSave}\n                            disabled={!isValidInput}> Save</button>\n                    </form>\n                    : <button className={`button ${styles.newchat}`} onClick={onNewChat}>+New Chat</button>}\n                <button className={`button ${styles.signout}`} onClick={signOut}>Sign out</button>\n            </div>\n        </div>\n    </div >\n}\nexport default Profile","import { useState, useContext } from \"react/cjs/react.development\"\nimport { DeviceContext } from \"../../../context/DeviceContext\"\nimport ChatsList from \"./ChatsList/ChatsList\"\nimport Profile from \"./Profile/Profile\"\nimport styles from \"./Sidebar.module.css\"\n\nconst Sidebar = (props) => {\n    const { currentChat, setCurrentChat, isSidebarHiden, hideSidebar } = props\n    const [isProfile, setIsprofile] = useState(false)\n\n    const onProfile = () => setIsprofile(true)\n    const onChatList = () => setIsprofile(false)\n\n    const isMobile = useContext(DeviceContext)\n    \n    const className = `${styles.sidebar} ${isMobile ? styles.mobile : \"\"} ${isSidebarHiden ? styles.hiden : \"\"}`\n\n    return <div className={className}>\n        <div className={styles.wrapper}>\n            {isProfile ?\n                <Profile onChatList={onChatList}\n                    setCurrentChat={setCurrentChat} /> :\n                <ChatsList\n                    onProfile={onProfile}\n                    hideSidebar={hideSidebar}\n                    setCurrentChat={setCurrentChat}\n                    currentChat={currentChat} />}\n        </div>\n    </div>\n}\nexport default Sidebar","import { useState } from \"react\"\nimport ChatRoom from \"./Chatroom/Chatroom\"\nimport Sidebar from \"./Sidebar/Sidebar\"\nimport { useContext } from \"react/cjs/react.development\"\nimport { DeviceContext } from \"../../context/DeviceContext\"\n\nconst Chats = () => {\n\n    const [currentChat, setCurrentChat] = useState({})\n    const isMobile = useContext(DeviceContext)\n    const [isSidebarHiden, setSidebarHiden] = useState(false)\n\n    const hideSidebar = () => {\n        isMobile && setSidebarHiden(true)\n    }\n    const showSidebar = () => { \n        isMobile && setSidebarHiden(false) }\n\n    return <div style={{display: \"flex\"}}>\n        <Sidebar\n            setCurrentChat={setCurrentChat}\n            currentChat={currentChat}\n            isSidebarHiden={isSidebarHiden}\n            hideSidebar={hideSidebar}\n        />\n        <ChatRoom \n            currentChat={currentChat}\n            isSidebarHiden={isSidebarHiden}\n            showSidebar={showSidebar}/>\n\n    </div>\n}\nexport default Chats","import { useState } from \"react\"\nimport { useInput } from \"../../hooks/useInput\"\nimport styles from \"./Auth.module.css\"\nimport { signWithGoogle, register } from \"../../firebase/auth\"\n\n\n\nconst CreateAccount = ({ signIn }) => {\n    const minUsernameLegtth = 3\n    const minPasswordLength = 6\n    const [errorMessage, setErrorMessage] = useState(\"\")\n    const username = useInput(\"\", { isEmpty: false, minLength: minUsernameLegtth })\n    const email = useInput(\"\", { isEmpty: false, email: false })\n    const password = useInput(\"\", { isEmpty: false, minLength: minPasswordLength })\n    const confirmedPassword = useInput(\"\", { isEmpty: false, minLength: minPasswordLength })\n\n    const isPasswordsMismatch = password.value !== confirmedPassword.value\n\n    const inputsValid = username.inputValid &&\n        email.inputValid &&\n        password.inputValid &&\n        confirmedPassword.inputValid &&\n        !isPasswordsMismatch\n\n    const onSubmit = async e => {\n        e.preventDefault()\n        register(email.value, password.value, username.value).catch(error => {\n            setErrorMessage(error.message)\n        });\n\n    }\n\n    return <div className={styles.auth}>\n        <div className={styles.title}><h1>Create account</h1></div>\n        <div className={styles.card}>\n\n            <form className={styles.form}>\n                <div>Username</div>\n                <input type=\"text\"\n                    className={styles.input}\n                    onChange={username.onChange}\n                    onBlur={username.onBlur}\n                    value={username.value} />\n                <div className={styles.error}>\n                    {username.isDirty && username.errorMessage}\n                </div>\n\n                <div>Email address</div>\n                <input type=\"email\"\n                    name=\"email\"\n                    onChange={email.onChange}\n                    className={styles.input}\n                    onBlur={email.onBlur}\n                    value={email.value} />\n                <div className={styles.error}>\n                    {email.isDirty && email.errorMessage}\n                </div>\n\n                <div>Password</div>\n                <input type=\"password\"\n                    autoComplete=\"off\"\n                    className={styles.input}\n                    onChange={password.onChange}\n                    onBlur={password.onBlur}\n                    value={password.value} />\n                <div className={styles.error}>\n                    {password.isDirty && password.errorMessage}\n                </div>\n\n                <div>Confirm password</div>\n                <input type=\"password\"\n                    autoComplete=\"off\"\n                    className={styles.input}\n                    onChange={confirmedPassword.onChange}\n                    onBlur={confirmedPassword.onBlur}\n                    value={confirmedPassword.value} />\n                <div className={styles.error}>\n                    {confirmedPassword.isDirty && isPasswordsMismatch && \"Password mismatch\"}\n                </div>\n                <div className={styles.caption}>Already registered <span className={styles.link}\n                    onClick={signIn}>Sign in</span></div>\n\n                <button className=\"button\"\n                    disabled={!inputsValid}\n                    onClick={onSubmit}>Create account</button>\n                <div className={styles.error}>{errorMessage}</div>\n\n            </form>\n            <button className=\"button\"\n                onClick={signWithGoogle}>Continue with Google</button>\n        </div>\n    </div>\n}\nexport default CreateAccount","import { useState } from \"react\"\nimport styles from \"./Auth.module.css\"\nimport { useInput } from \"../../hooks/useInput\"\nimport { signWithGoogle, login } from \"../../firebase/auth.js\"\n\nconst SignIn = ({ createAccount }) => {\n    const email = useInput(\"\", { isEmpty: false, email: false })\n    const password = useInput(\"\", { isEmpty: false, minLength: 6 })\n    const [errorMessage, setErrorMessage] = useState(\"\")\n\n    const inputsValid = email.inputValid && password.inputValid\n\n    const onSubmit = e => {\n        e.preventDefault()\n\n        login(email.value, password.value)\n            .catch(error => {\n                setErrorMessage(error.message)\n            });\n    }\n\n    return <div className={styles.auth}>\n        <div className={styles.title}>\n            <h1>Sign In</h1>\n        </div>\n\n        <div className={styles.card}>\n            <form className={styles.form}>\n                <div>Email address</div>\n                <input\n                    name=\"email\"\n                    onChange={email.onChange}\n                    className={styles.input}\n                    onBlur={email.onBlur}\n                    value={email.value} />\n                <div className={styles.error}>\n                    {email.isDirty && email.errorMessage}\n                </div>\n\n                <div>Password</div>\n                <input type=\"password\"\n                    autoComplete=\"on\"\n                    className={styles.input}\n                    onChange={password.onChange}\n                    onBlur={password.onBlur}\n                    value={password.value} />\n                <div className={styles.error}>\n                    {password.isDirty && password.errorMessage}\n                </div>\n\n                <div className={styles.caption}>\n                    <span className={styles.link} onClick={createAccount}>Create Account</span>\n                </div>\n\n                <button className=\"button\"\n                    disabled={!inputsValid}\n                    onClick={onSubmit}>Sign in</button>\n                <div className={styles.error}>\n                    {errorMessage}\n                </div>\n            </form>\n\n            <button className=\"button\"\n                onClick={signWithGoogle}>Continue with Google</button>\n        </div>\n    </div>\n}\nexport default SignIn","import CreateAccount from \"./CreateAccount\"\nimport SignIn from \"./SignIn\"\nimport { useState } from \"react\"\n\n\nconst Auth = () => {\n    const [isSignIn, setIsSignIn] = useState(false)\n\n    const createAccount = () => setIsSignIn(false)\n    const signIn = () => setIsSignIn(true)\n\n    return <>\n        {isSignIn ? <SignIn createAccount={createAccount}\n\n        /> :\n            <CreateAccount\n                signIn={signIn} />}\n    </>\n}\nexport default Auth","import './App.css';\nimport firebase from \"firebase/compat/app\";\nimport {useState, useEffect } from 'react';\nimport 'firebase/compat/auth'\nimport 'firebase/compat/firestore'\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport Chats from './components/Chats/Chats';\nimport Auth from './components/Auth/Auth';\nimport { DeviceContext } from './context/DeviceContext';\n\n\nconst App = () => {\n  const auth = firebase.auth()\n  const [user] = useAuthState(auth)\n\n  const [width, setWidth] = useState(window.innerWidth);\n  const isMobile = width < 766;\n\n  const onWindowSizeChange = () => setWidth(window.innerWidth)\n\n  useEffect(() => {\n    window.addEventListener('resize', onWindowSizeChange);\n\n    return () => {\n      window.removeEventListener('resize', onWindowSizeChange);\n    }\n  }, []);\n\n\n  return (\n    <div className=\"App\">\n      <DeviceContext.Provider value={isMobile}>\n        {user ?\n          <Chats /> :\n          <Auth/>}\n      </DeviceContext.Provider>\n    </div >\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}